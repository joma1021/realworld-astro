---
import Layout from "../Layout.astro";
import ArticleOverview from "../components/article/ArticleOverview";
import TagSidebar from "../components/tags/TagSidebar.astro";
import { getUserSessionData } from "../services/session-service";

const pageTitle = "Conduit - Home";
const filter = Astro.url.searchParams.get("filter") as string;
const userSession = getUserSessionData(Astro.cookies);
---

<Layout pageTitle={pageTitle}>
  <div class="home-page">
    {
      !userSession.isLoggedIn && (
        <div class="banner">
          <div class="container">
            <h1 class="logo-font">conduit</h1>
            <p>A place to share your knowledge.</p>
          </div>
        </div>
      )
    }
    <div class="container page">
      <div class="row">
        <ArticleOverview client:load filter={filter} userSession={userSession} />
        <TagSidebar />
      </div>
    </div>
  </div>
</Layout>
